name: Auto Sync Fork

on:
  # ì›ë³¸ ë ˆí¬ì— í‘¸ì‹œë  ë•Œë§ˆë‹¤ ì‹¤í–‰
  push:
    branches: [main]
  # ë§¤ 30ë¶„ë§ˆë‹¤ ì²´í¬ (ì„ íƒì‚¬í•­)
  schedule:
    - cron: '*/30 * * * *'
  # ìˆ˜ë™ ì‹¤í–‰ ê°€ëŠ¥
  workflow_dispatch:

jobs:
  sync-fork:
    runs-on: ubuntu-latest

    steps:
      - name: Sync fork with upstream
        uses: tgymnich/fork-sync@v2.0.10
        with:
          github_token: ${{ secrets.FORK_SYNC_TOKEN }}
          owner: TARGET_ORGANIZATION_NAME  # í¬í¬ëœ ì¡°ì§ëª…
          head: main
          base: main
          pr_title: "ğŸ”„ Auto sync with upstream"
          pr_message: |
            ìë™ìœ¼ë¡œ ì›ë³¸ ë ˆí¬ì˜ ë³€ê²½ì‚¬í•­ì„ ë™ê¸°í™”í•©ë‹ˆë‹¤.
            
            - ìµœì‹  ì»¤ë°‹: ${{ github.sha }}
            - ë™ê¸°í™” ì‹œê°„: ${{ github.event.head_commit.timestamp }}
